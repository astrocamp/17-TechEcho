<section class="container max-w-4xl mx-auto px-6 py-4 my-4 rounded-lg">
    <div class="text-xl bold my-4">
        <h2><span id="total-answers">{{ answers.paginator.count }}</span> Answer<span id="plural-s"{% if answers.paginator.count != 1 and answers.paginator.count != 0 %}>s{% endif %}</span></h2>
    </div>

    <div class="flex gap-2 p-1">
        <p>排序依據：</p>
        <a href="{% url 'questions:show' question.id %}?order=id">最新</a>
        <a href="{% url 'questions:show' question.id %}?order=votes_count">讚數</a>
    </div>

    <a href="#add-answer" class="btn">新增答案</a>

    {% for answer in answers %}
        {% include "answers/_answer.html" with answer=answer user=user %}
    {% empty %}
        <div class="text-xl bold my-4">目前無答案</div>
    {% endfor %}

    {% if user.is_authenticated %}
        <form method="POST" action="{% url 'answers:index' question.id %}">
            {% csrf_token %}
            <div class="flex flex-col gap-2 border px-6 py-4 my-4 rounded-lg">
                <!-- {{ form.media }} -->
                {{ form.content }}
            </div>
            <button id="add-answer" class="btn btn-primary btn-sm">新增答案</button>
        </form>
    {% else %}
        <a href="{% url 'users:login' %}" class="inline-block px-4 py-2 text-white bg-blue-500 rounded hover:bg-blue-600">
            請先登入才能回答
        </a>
    {% endif %}

    {% include "shared/pagination.html" with pages=answers only %}

</section>