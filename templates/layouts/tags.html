<div x-data="{ open: false, search: '' }" class="relative">
    <button @click="open = !open" class="z-20 flex p-2 text-white">
        <i class="fa-solid fa-bars"></i>
    </button>

    <div
        x-show="open"
        class="fixed top-0 left-0 z-10 hidden h-full p-4 transition-transform transform bg-white shadow-lg w-60"
        :class="{ '-translate-x-full': !open, 'translate-x-0': open, '!block': open }"
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="-translate-x-full"
        x-transition:enter-end="translate-x-0"
        x-transition:leave="transition ease-in duration-300"
        x-transition:leave-start="translate-x-0"
        x-transition:leave-end="-translate-x-full"
    >
        <button @click="open = false" class="absolute text-green-3 top-4 right-4">
            <i class="fa-solid fa-times"></i>
        </button>

        <div class="mt-10">
            <input
                type="text"
                placeholder="搜尋標籤"
                class="w-full p-1 mt-2 text-lg border border-gray-500 rounded"
                x-model="search"
            />

            <div class="flex flex-col mt-4 space-y-2">
                <template x-for="tag in [
                    { name: 'JavaScript', url: '{% url 'search' %}?q=javascript', color: 'tag-yellow' },
                    { name: 'Python', url: '{% url 'search' %}?q=python', color: 'tag-blue' },
                    { name: 'Ruby', url: '{% url 'search' %}?q=ruby', color: 'tag-red' },
                    { name: 'Java', url: '{% url 'search' %}?q=java', color: 'tag-green' },
                    { name: 'Rust', url: '{% url 'search' %}?q=rust', color: 'tag-purple' },
                    { name: 'PHP', url: '{% url 'search' %}?q=php', color: 'tag-pink' },
                    { name: 'Swift', url: '{% url 'search' %}?q=swift', color: 'tag-teal' },
                    { name: 'Go', url: '{% url 'search' %}?q=golang', color: 'tag-orange' },
                    { name: 'TypeScript', url: '{% url 'search' %}?q=typescript', color: 'tag-amber' },
                    { name: 'C#', url: '{% url 'search' %}?q=csharp', color: 'tag-blue' },
                    { name: 'React', url: '{% url 'search' %}?q=react', color: 'tag-green' },
                    { name: 'Vue.js', url: '{% url 'search' %}?q=vue', color: 'tag-purple' },
                    { name: 'Angular', url: '{% url 'search' %}?q=angular', color: 'tag-red' },
                    { name: 'Django', url: '{% url 'search' %}?q=django', color: 'tag-blue' },
                    { name: 'Flask', url: '{% url 'search' %}?q=flask', color: 'tag-yellow' },
                    { name: 'Laravel', url: '{% url 'search' %}?q=laravel', color: 'tag-pink' },
                    { name: 'Spring', url: '{% url 'search' %}?q=spring', color: 'tag-green' },
                    { name: 'Express.js', url: '{% url 'search' %}?q=express', color: 'tag-red' },
                    { name: 'Node.js', url: '{% url 'search' %}?q=nodejs', color: 'tag-blue' },
                    { name: 'Flutter', url: '{% url 'search' %}?q=flutter', color: 'tag-teal' },
                    { name: 'Android', url: '{% url 'search' %}?q=android', color: 'tag-orange' },
                    { name: 'iOS', url: '{% url 'search' %}?q=ios', color: 'tag-purple' },
                    { name: 'HTML', url: '{% url 'search' %}?q=html', color: 'tag-pink' },
                    { name: 'CSS', url: '{% url 'search' %}?q=css', color: 'tag-amber' },
                    { name: 'SQL', url: '{% url 'search' %}?q=sql', color: 'tag-blue' },
                ].filter(tag => tag.name.toLowerCase().includes(search.toLowerCase()))" :key="tag.name">
                    <a :href="tag.url" :class="`tag ${tag.color}`" x-text="tag.name"></a>
                </template>
            </div>
        </div>
    </div>

    <div x-show="open" @click="open = false" class="fixed inset-0 hidden bg-black opacity-50 z-5" :class="{ '!block': open }"></div>
</div>
