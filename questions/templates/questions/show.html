{% extends 'layouts/base.html' %}

{% block content %}
    <div class="p-6 max-w-4xl mx-auto relative">
        <div class="flex gap-2 items-center">
            <h1 class="text-2xl">標題：{{question.title}}</h1>
            {% comment %} need user function to follow or not {% endcomment %}
            <p>
                追蹤
            </p>
        </div>

        <div class="p-2 border-2">
            <p> 標籤：
                {% for label in labels %}
                    <span>{{label}} </span>
                {% endfor %}
            </p>
        </div>

        <div class="flex gap-2">
            <span>初始日期：{{question.created_at}}</span>
            <span>最後修改日期：{{question.modified_at}}</span>
            {% comment %} view counts {% endcomment %}
        </div>

        <h3 class="mb-2">問題內容：</h3>
        <div class="p-2 border-2">
            <article class="text-wrap break-all">
                <p>
                    問題描述： {{question.details|linebreaksbr}}
                </p>
            </article>
        </div>

        <form action="{% url "questions:votes" question.id %}" method="POST" class="p-2 flex gap-2">
            {% csrf_token %}

            <button name="votes_change" value="1">
                <i class="fa-solid fa-arrow-up" style="color: #ecd1c9;"></i>
            </button>

            <p>{{question.votes_count}}</p>

            <button name="votes_change" value='-1'>
                <i class="fa-solid fa-arrow-down" style="color: #ecd1c9;"></i>
            </button>
        </form>


        <div class="flex gap-2">
            {% comment %} <button>share</button> {% endcomment %}
            <a href="{% url "questions:edit" question.id%}" class="btn">編輯此問題</a>
            <form action="{% url "questions:delete"  question.id%}" method="POST" onSubmit="return confirm('確定要刪除此問題嗎？')">
                {% csrf_token %}
                <button class="btn">刪除此問題</button>
            </form>
            {% comment %} <button class="btn">follow</button> {% endcomment %}
            <a href="{% url "questions:index" %}" class="btn">回到首頁</a>
        </div>
    </div>
    {% include "answers/index.html" with answers=answers form=form %}
{% endblock  %}