{% extends "layouts/base.html" %}

{% block content %}
<div class="search-container">
    {% if question_results or answer_results %}
        {% if question_results %}
            <h3>Questions:</h3>
            <ul>
                {% for question in question_results %}
                    <li class="border-2 shadow p-2 mb-1 text-wrap break-all">
                        <a href="{% url 'questions:show' question.id %}">
                            <h3 class="text-xl link">標題： {{ question.title }}</h3>
                        </a>
                        <p>內文: {{ question.details|striptags|truncatechars:20 }}</p>
                    </li>
                {% endfor %}
            </ul>
        {% endif %}

        {% if answer_results %}
            <h3>Answers:</h3>
            <ul>
                {% for answer in answer_results %}
                    <li class="border-2 shadow p-2 mb-1 text-wrap break-all">
                        <a href="{% url 'question_detail' question_id=answer.question.id %}">
                            <h3 class="text-xl link">Answer: {{ answer.content|striptags|truncatewords:10 }}</h3>
                        </a>
                        <p>Related Question:
                            <a href="{% url 'question_detail' question_id=answer.question.id %}">
                                {{ answer.question.title }}
                            </a>
                        </p>
                    </li>
                {% endfor %}
            </ul>
        {% endif %}
    {% else %}
        <p>No results found.</p>
    {% endif %}
</div>
{% endblock content %}